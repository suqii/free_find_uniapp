(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/history/history","components/common/no-thing"],{"08d4":function(t,n,o){"use strict";o.r(n);var u=o("3cad"),e=o("5e6b");for(var r in e)"default"!==r&&function(t){o.d(n,t,(function(){return e[t]}))}(r);var c,a=o("f0c5"),i=Object(a["a"])(e["default"],u["b"],u["c"],!1,null,null,null,!1,u["a"],c);n["default"]=i.exports},"103d":function(t,n,o){"use strict";(function(t){o("9e51");u(o("66fd"));var n=u(o("08d4"));function u(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,o("543d")["createPage"])},"3cad":function(t,n,o){"use strict";var u;o.d(n,"b",(function(){return e})),o.d(n,"c",(function(){return r})),o.d(n,"a",(function(){return u}));var e=function(){var t=this,n=t.$createElement;t._self._c},r=[]},"5e6b":function(t,n,o){"use strict";o.r(n);var u=o("c351"),e=o.n(u);for(var r in u)"default"!==r&&function(t){o.d(n,t,(function(){return u[t]}))}(r);n["default"]=e.a},"7ac6":function(t,n,o){"use strict";o.r(n);var u=o("e9fa"),e=o("da97");for(var r in e)"default"!==r&&function(t){o.d(n,t,(function(){return e[t]}))}(r);var c,a=o("f0c5"),i=Object(a["a"])(e["default"],u["b"],u["c"],!1,null,null,null,!1,u["a"],c);n["default"]=i.exports},bb60:function(t,n){},c351:function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;u(o("7ac6"));function u(t){return t&&t.__esModule?t:{default:t}}var e=function(){Promise.all([o.e("common/vendor"),o.e("components/common/common-list2")]).then(function(){return resolve(o("9b75"))}.bind(null,o)).catch(o.oe)},r={components:{commonList:e},data:function(){return{list:[]}},onLoad:function(){var n=this,o=t.getStorageSync("history");o&&(this.list=JSON.parse(o)),t.$on("updateFollowOrSupport",(function(t){switch(t.type){case"follow":n.follow(t.data.user_id);break;case"support":n.doSupport(t.data);break}})),t.$on("updateCommentsCount",(function(t){var o=t.id,u=t.count;n.list.forEach((function(t){t.id===o&&(t.comment_count=u)}))}))},onUnload:function(){t.$off("updateFollowOrSupport",(function(t){})),t.$off("updateCommentsCount",(function(t){}))},onNavigationBarButtonTap:function(){var n=this;t.showModal({content:"是否要清除历史记录？",success:function(o){o.confirm&&(t.removeStorageSync("history"),n.list=[])}})},methods:{follow:function(n){this.list.forEach((function(t){t.user_id===n&&(t.isFollow=!0)})),t.showToast({title:"关注成功"})},doSupport:function(n){this.list.forEach((function(t){t.id===n.id&&(""===t.support.type?t.support[n.type+"_count"]++:"support"===t.support.type&&"unsupport"===n.type?(t.support.support_count--,t.support.unsupport_count++):"unsupport"===t.support.type&&"support"===n.type&&(t.support.support_count++,t.support.unsupport_count--),t.support.type=n.type)}));var o="support"===n.type?"顶":"踩";t.showToast({title:o+"成功"})}}};n.default=r}).call(this,o("543d")["default"])},da97:function(t,n,o){"use strict";o.r(n);var u=o("bb60"),e=o.n(u);for(var r in u)"default"!==r&&function(t){o.d(n,t,(function(){return u[t]}))}(r);n["default"]=e.a},e9fa:function(t,n,o){"use strict";var u;o.d(n,"b",(function(){return e})),o.d(n,"c",(function(){return r})),o.d(n,"a",(function(){return u}));var e=function(){var t=this,n=t.$createElement;t._self._c},r=[]}},[["103d","common/runtime","common/vendor"]]]);